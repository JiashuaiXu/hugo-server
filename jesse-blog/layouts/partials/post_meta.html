{{- $scratch := newScratch }}
{{- $isSingle := .IsPage }}

{{- if not .Date.IsZero -}}
  {{- if $isSingle -}}
    {{- $scratch.Add "meta" (slice (printf "<span title='%s'>ğŸ“… %s</span>" (.Date) (.Date | time.Format (default "2006-01-02" site.Params.DateFormat)))) }}
  {{- else -}}
    {{- $scratch.Add "meta" (slice (printf "<span title='%s'>%s</span>" (.Date) (.Date | time.Format (default "2006-01-02" site.Params.DateFormat)))) }}
  {{- end -}}
{{- end }}

{{- if (.Param "ShowReadingTime") -}}
  {{- if $isSingle -}}
    {{- $scratch.Add "meta" (slice (printf "<span>â±ï¸ %d min read</span>" .ReadingTime)) }}
  {{- else -}}
    {{- $scratch.Add "meta" (slice (printf "<span>%d min read</span>" .ReadingTime)) }}
  {{- end -}}
{{- end }}

{{- if (.Param "ShowWordCount") -}}
  {{- if $isSingle -}}
    {{- $scratch.Add "meta" (slice (printf "<span>ğŸ“ %d words</span>" .WordCount)) }}
  {{- else -}}
    {{- $scratch.Add "meta" (slice (printf "<span>%d words</span>" .WordCount)) }}
  {{- end -}}
{{- end }}

{{- if not (.Param "hideAuthor") -}}
  {{- with (partial "author.html" .) }}
    {{- if $isSingle -}}
      {{- $scratch.Add "meta" (slice (printf "<span>âœï¸ %s</span>" .)) }}
    {{- else -}}
      {{- $scratch.Add "meta" (slice (printf "<span>%s</span>" .)) }}
    {{- end -}}
  {{- end }}
{{- end }}

{{- /* åœ¨åˆ—è¡¨é¡µæ˜¾ç¤ºæ ‡ç­¾ */ -}}
{{- if not $isSingle -}}
  {{- with .Params.tags -}}
    {{- /* è·å–å‰3ä¸ªæ ‡ç­¾ï¼Œé¿å…æ˜¾ç¤ºå¤ªå¤š */ -}}
    {{- $tags := first 3 . -}}
    {{- $tagStr := delimit $tags ", " -}}
    {{- $scratch.Add "meta" (slice (printf "<span>ğŸ·ï¸ %s</span>" $tagStr)) }}
  {{- end -}}
{{- end -}}

{{- with ($scratch.Get "meta") }}
{{- delimit . "&nbsp;Â·&nbsp;" | safeHTML -}}
{{- end -}}

<!-- å•ç¯‡æ–‡ç« é˜…è¯»æ•° - ä»…åœ¨è¯¦æƒ…é¡µæ˜¾ç¤º -->
{{- if $isSingle -}}
<span id="busuanzi_container_page_pv" class="post-views">
  &nbsp;Â·&nbsp;ğŸ‘ï¸ <span id="busuanzi_value_page_pv"></span> views
</span>
{{- else -}}
<span id="busuanzi_container_page_pv" class="post-views">
  &nbsp;Â·&nbsp;<span id="busuanzi_value_page_pv"></span> views
</span>
{{- end -}}
